#+STARTUP: indent content
#+TITLE: stockAssessTeX

* これは何か？
資源評価詳細版の作成作業の合理化のためのリポジトリ．
合理化のための方法は，LaTeX導入．

* このリポジトリで何ができるか
LaTeX形式で資源評価報告書のサンプルを作れるようになる（2018-12-06現在）．
* どうやって？
** 概要
現状の詳細版は，「マイワシ太平洋系群」，「マイワシ対馬暖流系群」，（以下略）が合わさって「我が国周辺水域の漁業資源評価」となっている．
サンプルでは，これを単純化し，"fish1"，"fish2"を統合した"master"を作成する．

- fish1の資源評価担当者は，"fish1.tex"をコンパイルして，"fish1.pdf"を作る．
- fish2の資源評価担当者は，"fish2.tex"をコンパイルし，"fish2.pdf"を作る．
- 編集担当者は，"master.tex"をコンパイルすることで，"fish1.pdf"と"fish2.pdf"を読み込み，"master.pdf"を作る．
** 具体的方法
*** とりあえずサンプルを作ってみる
**** TeX環境の構築
要作成
**** GitおよびGitHub環境の構築
***** Gitのインストール
***** GitHubアカウント作成
これは林のprivateリポジトリなので，アクセスするには林が各人のアカウントをせねばならない．
システムを年単位で維持していくには，水研の企業アカウントを作り，林が管理を移譲する必要がある．
***** リポジトリをクローン
**** コンパイル
***** Windows
***** Mac OS
上記[[*%E6%A6%82%E8%A6%81][「概要]]」の内容が[[https://github.com/smxshxishxad/stockAssessTeX/blob/master/typeset.sh][typeset.sh]]としてまとまっているのでこれを実行する．

ターミナルを開いてこのディレクトリに移動し，
#+BEGIN_SRC sh
sh typeset.sh
#+END_SRC

#+RESULTS:

とするとpdfが生成する．

作業が終わって，中間ファイルを一括除去したい場合には
#+BEGIN_SRC sh
sh remove_files.sh
#+END_SRC
とするとよい．
*** サンプルを編集・更新する
**** システムの構造
本システムでは，作業の見通しを良くするために，単一系群の原稿を節や見出しレベルのファイルへ分割している．
担当者の執筆作業は，全て[[https://github.com/smxshxishxad/stockAssessTeX/tree/master/files_to_edit][files_to_edit]]に入っているファイルに対して行う[fn:files]．
編集が終わったら，"fishX.tex"をコンパイルしてpdfを生成する．

[fn:files]現状のシステムはファイル粒度が細かすぎるので，[[https://github.com/smxshxishxad/stockAssessTeX/pull/10/commits/bc80d544c897a9b35c779552bf8a5e09bdf1888c][渡邊さんが検討して下さった方法]]に変更予定
*** 今後の予定
[[https://github.com/smxshxishxad/stockAssessTeX/projects][Projects]]参照．
